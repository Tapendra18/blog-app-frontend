{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/blog/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/var/www/blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/var/www/blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import BlogCard from\"../components/BlogCard\";import{Grid,Card,CardHeader,CardContent,Typography}from\"@mui/material\";import EditIcon from\"@mui/icons-material/Edit\";import DeleteIcon from\"@mui/icons-material/Delete\";import{Helmet}from\"react-helmet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Blogs=function Blogs(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var getAllBlogs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8000/api/v1/blog/all-blog\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;if(data!==null&&data!==void 0&&data.success){setBlogs(data.blogs);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getAllBlogs(){return _ref.apply(this,arguments);};}();var HandleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var _yield$axios$delete,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"http://localhost:8000/api/v1/blog/delete-blog/\".concat(id));case 2:_yield$axios$delete=_context2.sent;data=_yield$axios$delete.data;alert(\"delete\");case 5:case\"end\":return _context2.stop();}},_callee2);}));return function HandleDelete(_x){return _ref2.apply(this,arguments);};}();// const url = blogs.image\n//   ? blogs.image\n//   : \"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=752&q=80 \";\nuseEffect(function(){getAllBlogs();},[]);console.log(blogs,\"update\");return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Update And Delete\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"keywords\",content:\"create Post for tech and other category\"})]}),/*#__PURE__*/_jsx(Grid,{item:true,container:true,lg:4,sx:{marginLeft:\"20px\",marginTop:\"30px\"},children:/*#__PURE__*/_jsx(Grid,{item:true,container:true,spacing:2,children:blogs&&blogs.length>0?blogs.map(function(blog){return/*#__PURE__*/_jsxs(Card,{sx:{boxShadow:\"5px 5px 10px #ccc\",\":hover:\":{boxShadow:\"10px 10px 20px #ccc\"}},children:[/*#__PURE__*/_jsx(EditIcon,{sx:{cursor:\"pointer\"}}),/*#__PURE__*/_jsx(DeleteIcon,{sx:{cursor:\"pointer\"},onClick:function onClick(e){return HandleDelete(e);}}),/*#__PURE__*/_jsx(CardHeader,{title:blog.title,subheader:blog.time,sx:{cursor:\"pointer\"}// onClick={(e) => viewReport(e, `${_id}`)}\n}),/*#__PURE__*/_jsx(CardHeader,{sx:{cursor:\"pointer\",fontSize:\"5px\"},title:blog.categories}),/*#__PURE__*/_jsx(\"img\",{height:\"217px\",width:\"426px\",src:\"http://localhost:8000/\".concat(blog.image),alt:\"blog image\"}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{cursor:\"pointer\"},children:blog.description})})]});}):/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"50px\",marginLeft:\"20px\"},children:\"NO data available\"})})})]});};export default Blogs;","map":{"version":3,"names":["React","useState","useEffect","axios","BlogCard","Grid","Card","CardHeader","CardContent","Typography","EditIcon","DeleteIcon","Helmet","jsx","_jsx","jsxs","_jsxs","Blogs","_useState","_useState2","_slicedToArray","blogs","setBlogs","getAllBlogs","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","sent","success","t0","console","log","stop","apply","arguments","HandleDelete","_ref2","_callee2","id","_yield$axios$delete","_callee2$","_context2","delete","concat","alert","_x","children","name","content","item","container","lg","sx","marginLeft","marginTop","spacing","length","map","blog","boxShadow","cursor","onClick","e","title","subheader","time","fontSize","categories","height","width","src","image","alt","variant","color","description","style"],"sources":["/var/www/blog/client/src/pages/UpdateandDelete.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport BlogCard from \"../components/BlogCard\";\nimport { Grid, Card, CardHeader, CardContent, Typography } from \"@mui/material\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { Helmet } from \"react-helmet\";\n\nconst Blogs = () => {\n  const [blogs, setBlogs] = useState([]);\n\n  const getAllBlogs = async () => {\n    try {\n      const { data } = await axios.get(\n        \"http://localhost:8000/api/v1/blog/all-blog\"\n      );\n      if (data?.success) {\n        setBlogs(data.blogs);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const HandleDelete = async (id) => {\n    const { data } = await axios.delete(\n      `http://localhost:8000/api/v1/blog/delete-blog/${id}`\n    );\n    alert(\"delete\");\n  };\n  // const url = blogs.image\n  //   ? blogs.image\n  //   : \"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=752&q=80 \";\n\n  useEffect(() => {\n    getAllBlogs();\n  }, []);\n  console.log(blogs, \"update\");\n  return (\n    <div>\n      <Helmet>\n        <title>Update And Delete</title>\n        <meta\n          name=\"keywords\"\n          content=\"create Post for tech and other category\"\n        />\n      </Helmet>\n      <Grid\n        item\n        container\n        lg={4}\n        sx={{ marginLeft: \"20px\", marginTop: \"30px\" }}\n      >\n        <Grid item container spacing={2}>\n          {blogs && blogs.length > 0 ? (\n            blogs.map((blog) => (\n              <Card\n                sx={{\n                  boxShadow: \"5px 5px 10px #ccc\",\n                  \":hover:\": {\n                    boxShadow: \"10px 10px 20px #ccc\",\n                  },\n                }}\n              >\n                <EditIcon sx={{ cursor: \"pointer\" }} />\n                <DeleteIcon\n                  sx={{ cursor: \"pointer\" }}\n                  onClick={(e) => HandleDelete(e)}\n                />\n                <CardHeader\n                  title={blog.title}\n                  subheader={blog.time}\n                  sx={{ cursor: \"pointer\" }}\n                  // onClick={(e) => viewReport(e, `${_id}`)}\n                />\n                <CardHeader\n                  sx={{ cursor: \"pointer\", fontSize: \"5px\" }}\n                  title={blog.categories}\n                />\n                <img\n                  height=\"217px\"\n                  width=\"426px\"\n                  src={`http://localhost:8000/${blog.image}`}\n                  alt=\"blog image\"\n                />\n\n                <CardContent>\n                  <Typography\n                    variant=\"body2\"\n                    color=\"text.secondary\"\n                    sx={{ cursor: \"pointer\" }}\n                  >\n                    {blog.description}\n                  </Typography>\n                </CardContent>\n              </Card>\n            ))\n          ) : (\n            <div style={{ marginTop: \"50px\", marginLeft: \"20px\" }}>\n              NO data available\n            </div>\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Blogs;\n"],"mappings":"8UAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,OAASC,IAAI,CAAEC,IAAI,CAAEC,UAAU,CAAEC,WAAW,CAAEC,UAAU,KAAQ,eAAe,CAC/E,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,OAASC,MAAM,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,IAAAC,SAAA,CAA0BjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,gBAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEO,CAAAhC,KAAK,CAACiC,GAAG,CAC9B,4CAA4C,CAC7C,QAAAP,gBAAA,CAAAI,QAAA,CAAAI,IAAA,CAFOP,IAAI,CAAAD,gBAAA,CAAJC,IAAI,CAGZ,GAAIA,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEQ,OAAO,CAAE,CACjBhB,QAAQ,CAACQ,IAAI,CAACT,KAAK,CAAC,CACtB,CAACY,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAEDO,OAAO,CAACC,GAAG,CAAAR,QAAA,CAAAM,EAAA,CAAK,CAAC,yBAAAN,QAAA,CAAAS,IAAA,MAAAd,OAAA,gBAEpB,kBAXK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAWhB,CAED,GAAM,CAAAC,YAAY,6BAAAC,KAAA,CAAArB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAoB,SAAOC,EAAE,MAAAC,mBAAA,CAAAnB,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAmB,UAAAC,SAAA,iBAAAA,SAAA,CAAAjB,IAAA,CAAAiB,SAAA,CAAAhB,IAAA,SAAAgB,SAAA,CAAAhB,IAAA,SACL,CAAAhC,KAAK,CAACiD,MAAM,kDAAAC,MAAA,CACgBL,EAAE,EACpD,QAAAC,mBAAA,CAAAE,SAAA,CAAAd,IAAA,CAFOP,IAAI,CAAAmB,mBAAA,CAAJnB,IAAI,CAGZwB,KAAK,CAAC,QAAQ,CAAC,CAAC,wBAAAH,SAAA,CAAAT,IAAA,MAAAK,QAAA,GACjB,kBALK,CAAAF,YAAYA,CAAAU,EAAA,SAAAT,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAKjB,CACD;AACA;AACA;AAEA1C,SAAS,CAAC,UAAM,CACdqB,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CACNiB,OAAO,CAACC,GAAG,CAACpB,KAAK,CAAE,QAAQ,CAAC,CAC5B,mBACEL,KAAA,QAAAwC,QAAA,eACExC,KAAA,CAACJ,MAAM,EAAA4C,QAAA,eACL1C,IAAA,UAAA0C,QAAA,CAAO,mBAAiB,EAAQ,cAChC1C,IAAA,SACE2C,IAAI,CAAC,UAAU,CACfC,OAAO,CAAC,yCAAyC,EACjD,GACK,cACT5C,IAAA,CAACT,IAAI,EACHsD,IAAI,MACJC,SAAS,MACTC,EAAE,CAAE,CAAE,CACNC,EAAE,CAAE,CAAEC,UAAU,CAAE,MAAM,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAR,QAAA,cAE9C1C,IAAA,CAACT,IAAI,EAACsD,IAAI,MAACC,SAAS,MAACK,OAAO,CAAE,CAAE,CAAAT,QAAA,CAC7BnC,KAAK,EAAIA,KAAK,CAAC6C,MAAM,CAAG,CAAC,CACxB7C,KAAK,CAAC8C,GAAG,CAAC,SAACC,IAAI,qBACbpD,KAAA,CAACV,IAAI,EACHwD,EAAE,CAAE,CACFO,SAAS,CAAE,mBAAmB,CAC9B,SAAS,CAAE,CACTA,SAAS,CAAE,qBACb,CACF,CAAE,CAAAb,QAAA,eAEF1C,IAAA,CAACJ,QAAQ,EAACoD,EAAE,CAAE,CAAEQ,MAAM,CAAE,SAAU,CAAE,EAAG,cACvCxD,IAAA,CAACH,UAAU,EACTmD,EAAE,CAAE,CAAEQ,MAAM,CAAE,SAAU,CAAE,CAC1BC,OAAO,CAAE,SAAAA,QAACC,CAAC,QAAK,CAAA3B,YAAY,CAAC2B,CAAC,CAAC,EAAC,EAChC,cACF1D,IAAA,CAACP,UAAU,EACTkE,KAAK,CAAEL,IAAI,CAACK,KAAM,CAClBC,SAAS,CAAEN,IAAI,CAACO,IAAK,CACrBb,EAAE,CAAE,CAAEQ,MAAM,CAAE,SAAU,CACxB;AAAA,EACA,cACFxD,IAAA,CAACP,UAAU,EACTuD,EAAE,CAAE,CAAEQ,MAAM,CAAE,SAAS,CAAEM,QAAQ,CAAE,KAAM,CAAE,CAC3CH,KAAK,CAAEL,IAAI,CAACS,UAAW,EACvB,cACF/D,IAAA,QACEgE,MAAM,CAAC,OAAO,CACdC,KAAK,CAAC,OAAO,CACbC,GAAG,0BAAA3B,MAAA,CAA2Be,IAAI,CAACa,KAAK,CAAG,CAC3CC,GAAG,CAAC,YAAY,EAChB,cAEFpE,IAAA,CAACN,WAAW,EAAAgD,QAAA,cACV1C,IAAA,CAACL,UAAU,EACT0E,OAAO,CAAC,OAAO,CACfC,KAAK,CAAC,gBAAgB,CACtBtB,EAAE,CAAE,CAAEQ,MAAM,CAAE,SAAU,CAAE,CAAAd,QAAA,CAEzBY,IAAI,CAACiB,WAAW,EACN,EACD,GACT,EACR,CAAC,cAEFvE,IAAA,QAAKwE,KAAK,CAAE,CAAEtB,SAAS,CAAE,MAAM,CAAED,UAAU,CAAE,MAAO,CAAE,CAAAP,QAAA,CAAC,mBAEvD,EACD,EACI,EACF,GACH,CAEV,CAAC,CAED,cAAe,CAAAvC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}